<app-header></app-header>
<h2 style="margin-top: 2rem">Top Gainers</h2>

<div class="grid">
  <!-- Display most traded stocks -->
  <div
    class="col-12 md:col-6 lg:col-3"
    *ngFor="let stock of topGainers"
    [routerLink]="['/stock-details', { title: stock?.shortSymbol, type: 'STOCK' }]"
  >
    <ng-template #inactivebox>
      <div
        style="height: 100px; background-color: #f1f5f9"
        class="surface-card shadow-2 border-round"
      >
        Loading...
      </div>
    </ng-template>

    <div
      class="surface-card shadow-2 p-3 border-round"
      *ngIf="stock?.symbol; else inactivebox"
    >
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">{{
           stock?.symbol
          }}</span>
          <div class="text-900 font-medium text-xl">
            {{ stock?.lastPrice}}
          </div>
        </div>
        <div
          class="flex align-items-center justify-content-center bg-blue-100 border-round"
          style="width: 2.5rem; height: 2.5rem"
        >
          <img
            [src]="
              'https://logo.clearbit.com/' +
              (stock?.symbol?.toLowerCase() || ' ') +
              '.com'
            "
            alt="{{ stock?.title }}"
            style="object-fit: contain"
          />
        </div>
      </div>
      <span class="text-green-500" *ngIf="true"> {{ stock?.pChange }} </span>
      <span class="text-green-400"
        >{{ stock?.change >= 0 ? "+" : "-" }} {{ stock?.change }}</span
      >
    </div>
  </div>
</div>
<br /><br />
<h2>Top Losers</h2>
<div class="grid">
  <!-- Display top losers stocks -->

  <ng-template #inactiveboxloosers>
    <div
      style="height: 100px; background-color: #f1f5f9"
      class="surface-card shadow-2 border-round"
    >
      Loading...
    </div>
  </ng-template>

  <div
    class="col-12 md:col-6 lg:col-3"
    *ngFor="let stock of topLoosers"
    [routerLink]="['/stock-details', { title: stock?.shortSymbol, type: 'STOCK' }]"
  >
    <div
      class="surface-card shadow-2 p-3 border-round"
      *ngIf="stock?.symbol; else inactiveboxloosers"
    >
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">{{
            stock?.symbol
          }}</span>
          <div class="text-900 font-medium text-xl">
            {{ stock?.lastPrice }}
          </div>
        </div>
        <div
          class="flex align-items-center justify-content-center bg-red-100 border-round"
          style="width: 2.5rem; height: 2.5rem"
        >
          <img
            [src]="
              'https://logo.clearbit.com/' +
              (stock?.symbol?.toLowerCase() || 'default') +
              '.com'
            "
            alt="Alternative Text"
            style="object-fit: contain"
          />
        </div>
      </div>
      <span class="text-red-500">{{ stock?.change }} </span>
      <span class="text-red-400"> {{ stock?.pChange }}</span>
    </div>
  </div>
</div>
